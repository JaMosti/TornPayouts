<!doctype html>
<html class="{{ 'victory' if victory else 'lose' }}">
<head>
  <meta charset="utf-8"/>
  <title>{{ title or "Table" }}</title>
  <style>
    *{box-sizing: border-box !important;}
    a{transition-duration: 0.5s;}
    a:hover{ opacity: 0.5 !important}
    h2{font-size:30px}h3{font-size:20px}
    h2,h3{margin:10px;text-align:center}
    h2,h3,td,th{text-align:center}
    .reward img,td,th{vertical-align:middle}
    @page{margin:0;padding:0;background:url("img/bg.jpeg");background-size:100% 100%}
    body{margin:0;padding:16px;background:url("img/logo.png") right 10px top 10px/100px no-repeat; font-family: 'Times New Roman', Times, serif;}
    .col_name a,html{color:#fff}
    .victory{background:url("img/bg_win.png") top left repeat-x; background-size: 100% 100px;}
    .lose{background:url("img/bg_lose.png")  top left repeat-x; background-size: 100% 100px;}
    header{padding-bottom:10px}
    table{border-collapse:collapse;font-family:Arial,sans-serif;font-size:12px;line-height:14px;margin:auto}
    td,th{border:0;padding:2px;width:110px;position:relative;z-index: 200;}
    th{background:rgba(255,255,255,.2)}
    .col_respect{width:42px}
    .respect_column{width: 18px;}
    .col_hof{width:84px}
    .col_hits{width:30px;font-size:10px}
    .reward{font-size:20px}
    .reward img{display:inline-block; width: 60px;}
    .rewards{justify-content:center;display:flex;text-align:center;}
    .tables{display:flex;justify-content:space-around;flex-wrap:wrap;}
    .table{vertical-align:top;display:inline-block;min-width: 33.33%; text-align: center;}
    .table table{text-align: left;}
    .hof_tables .table{padding:10px;}
    .table.empty{opacity: 0.2}
    .col_payout{text-align:right;font-size:13px}
    .col_name{text-align:left;font-size:14px}
    tr:nth-child(2n){background:rgba(255,255,255,.1)}
    .downgrade{background:rgba(255,0,0,.2)}
    tr:nth-child(2n) .downgrade{background:rgba(105,0,0,.2)}
    .upgrade{background:rgba(0, 255, 26, 0.2)}
    tr:nth-child(2n) .upgrade{background:rgba(14, 105, 0, 0.2)}
    .est_price{display: block; font-size: 12px; color: #fff; padding: 0 3px;}
    .created_by{ position: absolute; bottom: 0; right: 0; z-index: 1; width: 150px; display: block}
    .created_by img{display: block; width: 100%;}
    .best_row{background: rgba(255, 217, 0, 0.163);}
    .hof_description{font-size: 12px; font-weight: 400; line-height: 12px; padding: 2px}
    .hof_tables td{padding: 4px;}
    @media print { .pagebreak { clear: both; page-break-after: always; }}
    .hof_title{font-size: 0; padding: 5px 10px; background: rgba(255,255,255,0.4); color: #000;}
    .hof_title img{
        display: inline-block;
        width: 20%;
        margin-right: 5%;
        vertical-align: middle;
    }
    .hof_title span {
        display: inline-block;
        width: 75%;
        text-align: left;
        vertical-align: middle;
        text-align: center;
        line-height: 20px;
        font-size: 18px;
    }
  </style>
</head>
<body>
  <header>
    <h2>{{ title or "Table" }}</h2>
    <div class="rewards">
      {% for reward in rewards %}
        <div class="reward">
          &nbsp;&nbsp;&nbsp;{{ reward[1] }}x<img src="https://www.torn.com/images/items/{{ reward[0] }}/large.png" />
          <span class="est_price">
            ~ {{ reward[2]}} $
          </span>
        </div>
      {% endfor %}
    </div>
    <h3>Total payout for members: {{ payout }} $</h2>
  </header>
  <div class="tables">
  {% for table in tables %}
    <div class="table">
      <table>
        <thead> <tr> <th class="respect_column"></th><th>Name</th> <th class="col_respect">War</th> <th class="col_respect">Raid</th> <th>Payout</th> </tr> </thead>
        <tbody>
          {% for r in table %}
            <tr class="payout_row">
              <td class="respect_column{% if r['attacks'] < tresholds[0] %} downgrade{% endif %}{% if r['attacks'] > tresholds[1] %} upgrade{% endif %}">
                {% if r['attacks'] < tresholds[0] %}-{% endif %}{% if r['attacks'] > tresholds[1] %}+{% endif %}
              </td>
              <td class="col_name">
                <a href="https://www.torn.com/profiles.php?XID={{r["id"]}}">
                  {{ r["name"] }}
                </a>
              </td>
              <td class="col_respect">{{r["respect_war"]}}</td>
              <td class="col_respect">{{r["respect_raid"]}}</td>
              <td class="col_payout">{{r["payout_str"]}} $</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endfor %}
  </div>
  <div class="pagebreak"> </div>
  <br/><br/><br/>
    <h2>HALL OF FAME</h2>
    <br/><br/>
  <div class="tables hof_tables">
    {% for table in hof %}
    <div class="table{% if table['empty'] %} empty{% endif %}">
      <table>
        <thead> 
          <tr> <th class="hof_title" colspan="2"> 
            <img src="img/{{ table["img"] }}.png">
            <span>{{ table["title"] }} </span>
          </th> </tr>
          <tr> <th class="hof_description" colspan="2"> {{ table["description"]}} </th> </tr>
          <tr> <th>Name</th> <th class="col_hof">{{ table["column"] }}</th> </tr>
        </thead>
        <tbody>
          {% for r in table["best"] %}
            <tr class="payout_row best_row">
              <th class="col_name">
                <a href="https://www.torn.com/profiles.php?XID={{r[1]}}">
                  {{ r[2] }}
                </a>
              </th>
              <th class="col_hof">{{r[0]}}</th>
            </tr>
          {% endfor %}
          {% for r in table["rest"] %}
            <tr class="payout_row">
              <td class="col_name">
                <a href="https://www.torn.com/profiles.php?XID={{r[1]}}">
                  {{ r[2] }}
                </a>
              </td>
              <td class="col_hof">{{r[0]}}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% endfor %}
    {% for table in hof2 %}
    <div class="table{% if table['empty'] %} empty{% endif %}">
      <table>
        <thead> 
          <tr> <th class="hof_title" colspan="{{ table["columns_n"] }}"> 
            <img src="img/{{ table["img"] }}.png">
            <span>{{ table["title"] }} </span>
          </th> </tr>
          <tr> <th class="hof_description" colspan="{{ table["columns_n"] }}"> {{ table["description"]}} </th> </tr>
          <tr> <th>Name</th>
          {% for column in table["columns"] %}
            <th class="col_respect">{{ column }}</th>
          {% endfor %}

        </thead>
        <tbody>
          {% for r in table["best"] %}
            <tr class="payout_row best_row">
              <th class="col_name">
                <a href="https://www.torn.com/profiles.php?XID={{r[0]}}">
                  {{ r[1] }}
                </a>
              </th>
              {% for rr in r[2:] %}
                <th class="col_respect">{{rr}}</th>
              {% endfor %}
            </tr>
          {% endfor %}
          {% for r in table["rest"] %}
            <tr class="payout_row">
              <td class="col_name">
                <a href="https://www.torn.com/profiles.php?XID={{r[0]}}">
                  {{ r[1] }}
                </a>
              </td>
              {% for rr in r[2:] %}
                <th class="col_respect">{{rr}}</th>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% endfor %}
  </div>
  <a href="https://www.torn.com/forums.php#/p=threads&f=23&t=16496115&b=0&a=0&start=0&to=26342535" class="created_by">
    <img src="img/copyrights.png">
  </a>
</body>
</html>
